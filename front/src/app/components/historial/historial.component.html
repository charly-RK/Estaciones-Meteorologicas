<app-navbar></app-navbar>

<div class="historial-container container mt-4">
  <h2 class="mb-4">Usuarios Recientes</h2>

  <!-- Mostrar un mensaje de error si ocurre -->
  <div *ngIf="error" class="error-message">{{ error }}</div>

  <!-- Mostrar un mensaje si no hay usuarios -->
  <div *ngIf="usuariosRecientes.length === 0 && !error" class="no-users">
    No hay usuarios recientes para mostrar.
  </div>

  <!-- Tabla para mostrar los usuarios -->
  <table *ngIf="usuariosRecientes.length > 0" class="table table-striped table-bordered">
    <thead>
      <tr>
        <th>Nombre</th>
        <th>Correo</th>
        <th>Registrado</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let usuario of usuariosRecientes">
        <td>{{ usuario.nombre }}</td>
        <td>{{ usuario.correo }}</td>
        <td>{{ usuario.tiempoActivo }}</td>
      </tr>
    </tbody>
  </table>
</div>

<div class="container mt-4">
  <h2 class="mb-4">Historial de Visitas</h2>
  <p>Total de visitas: {{ totalVisitas }}</p>

  <h3 class="mt-4">Visitas Recientes</h3>
  <ul class="list-unstyled">
    <li *ngFor="let visita of visitasRecientes" class="visita-item">
      <p><strong>Fecha:</strong> {{ visita.fecha | date:'short' }}</p>
      <p><strong>IP:</strong> {{ visita.ip }} | <strong>Navegador:</strong> {{ visita.user_agent }}</p>
    </li>
  </ul>
</div>
